import{ssrElement as $,mergeProps as b,ssr as n,ssrAttribute as x,escape as r,createComponent as e,ssrHydrationKey as i}from"solid-js/web";import{mergeProps as w,splitProps as _,Show as l,For as f}from"solid-js";import{g as p,D as g}from"./get-projects.mjs";import{getProjectsArchive as j}from"./c_11160.mjs";import"./c_12473.mjs";import"./c_12098.mjs";import"./c_11170.mjs";import"./c_10846.mjs";import"./c_12805.mjs";import"./c_12518.mjs";import"clsx";import{o as I,c as d,q as A,r as C,t as F,u as N,v as S,w as k}from"./styles.mjs";import"./styles2.mjs";import{I as z,u as E,g as q}from"./images.mjs";import{c as h}from"./cn.mjs";import{q as O}from"./routing.mjs";import"./env.mjs";import"solid-js/web/storage";import"./fetchEvent.mjs";import"h3";import"node:async_hooks";import"./index3.mjs";import"@sanity/client";import"./get-settings.mjs";import"class-variance-authority";import"tailwind-merge";import"tailwind-variants";import"@sanity/image-url";var T=["<p",' class="mt-0.5 mb-4 line-clamp-3 text-md">',"</p>"],B=["<ul",' class="flex flex-wrap items-center gap-2">',"</ul>"],D=["<article","><!--$-->",'<!--/--><section class="flex size-full flex-col justify-end bg-gradient-to-b from-50% from-transparent to-foreground px-6 py-8 text-gray-50 transition-colors duration-300 ease-in-out hover:from-0% group-hover:to-foreground"><h3 class="font-semibold text-white">',"</h3><!--$-->","<!--/--><!--$-->","<!--/--></section></article>"],H=["<li",">","</li>"];function G(o){const u=w(o,{class:""}),[a,c,m]=_(u,["thumbnail","slug","headline","services","title"],["class"]);return $("a",b(m,{get href(){return`/projetos/${a.slug}`},get class(){return h(["group shadow transition duration-300 ease-in-out",c.class])}}),()=>n(D,x("class",r(h(["relative isolate","overflow-hidden","h-[500px] rounded-lg"]),!0),!1),r(e(z,{loading:"lazy",layout:"fullWidth",get src(){return E(a.thumbnail).auto("format").quality(80).width(600).url()},get alt(){return a.title},get background(){return q(a.thumbnail)},class:"-z-10 absolute inset-0 size-full object-cover object-center transition-transform duration-300 ease-in-out group-hover:scale-105"})),r(a.title),r(e(l,{get when(){return a.headline},get children(){return n(T,i(),r(a.headline))}})),r(e(l,{get when(){return a.services.length},get children(){return n(B,i(),r(e(f,{get each(){return a.services},children:t=>n(H,i(),r(e(I,{round:!0,variant:"secondary",class:"pointer-events-none",get children(){return t.title}})))})))}}))),!0)}var K=["<main",'><header class="py-16"><div class="container flex flex-col items-center justify-center gap-2 text-center"><h1 class="font-bold">',"</h1><!--$-->","<!--/--></div></header><!--$-->","<!--/--><!--$-->","<!--/--></main>"],L=["<p",' class="text-lg">',"</p>"],M=["<section",' class="py-16"><div class="container grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">',"</div></section>"],U=["<section",' class="py-2"><div class="container flex justify-end">',"</div></section>"];function $e(){const[o,u]=O(),a=d(()=>j()),c=d(async()=>{let t=o.page?Number(o.page):1;const s=await p(t,g),P=Math.ceil(s.total/g);t>s.total&&(t=P);const{data:v,total:y}=await p(t,g);return{data:v,total:y,currentPage:t}});function m(t){u({page:t},{replace:!0})}return n(K,i(),r(a()?.title)??"Projetos",r(e(l,{get when(){return a()?.headline},keyed:!0,children:t=>n(L,i(),r(t))})),r(e(l,{get when(){return c()?.data},keyed:!0,children:t=>n(M,i(),r(e(f,{each:t,children:s=>e(G,{get title(){return s.title},get headline(){return s.headline},get thumbnail(){return s.thumbnail},get services(){return s.services},get slug(){return s.slug}})})))})),r(e(l,{get when(){return c()?.total},keyed:!0,children:t=>n(U,i(),r(e(A,{count:t,defaultPage:1,fixedItems:!0,onPageChange:m,get page(){return Number(o.page)??1},itemComponent:s=>e(C,{get page(){return s.page},get children(){return s.page}}),ellipsisComponent:()=>e(F,{}),get children(){return[e(N,{}),e(S,{}),e(k,{})]}})))})))}export{$e as default};
