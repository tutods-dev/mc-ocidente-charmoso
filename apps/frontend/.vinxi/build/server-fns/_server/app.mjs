import{createComponent as l,isServer as N,getRequestEvent as q,delegateEvents as z,ssr as g,ssrHydrationKey as p,escape as f,ssrAttribute as w}from"solid-js/web";import{F as K}from"./server-fns.mjs";import{children as J,createMemo as y,getOwner as X,untrack as G,Show as P,on as Q,createRoot as Y,createSignal as Z,onCleanup as B,sharedConfig as $,Suspense as H,For as _,Switch as tt,Match as D}from"solid-js";import{getCtaSettings as et}from"./c_12473.mjs";import"./c_12098.mjs";import"./c_11160.mjs";import"./c_11170.mjs";import"./c_10846.mjs";import"./c_12805.mjs";import"./c_12518.mjs";import"clsx";import{c as rt,B as nt,s as S}from"./styles.mjs";import{c as at,a as ot,R as it,b as st,d as ct,g as U,e as lt,s as F,m as ut,k as dt,f as ht,h as mt,n as ft,u as E}from"./routing.mjs";import{useWindowScrollPosition as gt}from"@solid-primitives/scroll";import{twMerge as k}from"tailwind-merge";import{d as pt,n as bt,a as wt,h as yt,b as vt}from"./styles2.mjs";import{useWindowSize as St}from"@solid-primitives/resize-observer";import{c as I}from"./cn.mjs";import{a as kt}from"./action.mjs";import"solid-js/web/storage";import"./fetchEvent.mjs";import"h3";import"node:async_hooks";import"./env.mjs";import"./index3.mjs";import"@sanity/client";import"./get-settings.mjs";import"class-variance-authority";import"tailwind-variants";const V=t=>r=>{const{base:a}=r,n=J(()=>r.children),e=y(()=>at(n(),r.base||""));let o;const i=ot(t,e,()=>o,{base:a,singleFlight:r.singleFlight,transformUrl:r.transformUrl});return t.create&&t.create(i),l(it.Provider,{value:i,get children(){return l(Lt,{routerState:i,get root(){return r.root},get preload(){return r.rootPreload||r.rootLoad},get children(){return[(o=X())&&null,l(Rt,{routerState:i,get branches(){return e()}})]}})}})};function Lt(t){const r=t.routerState.location,a=t.routerState.params,n=y(()=>t.preload&&G(()=>{F(!0),t.preload({params:a,location:r,intent:lt()||"initial"}),F(!1)}));return l(P,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:e=>l(e,{params:a,location:r,get data(){return n()},get children(){return t.children}})})}function Rt(t){if(N){const e=q();if(e&&e.router&&e.router.dataOnly){At(e,t.routerState,t.branches);return}e&&((e.router||(e.router={})).matches||(e.router.matches=t.routerState.matches().map(({route:o,path:i,params:u})=>({path:o.originalPath,pattern:o.pattern,match:i,params:u,info:o.info}))))}const r=[];let a;const n=y(Q(t.routerState.matches,(e,o,i)=>{let u=o&&e.length===o.length;const b=[];for(let h=0,R=e.length;h<R;h++){const v=o&&o[h],A=e[h];i&&v&&A.route.key===v.route.key?b[h]=i[h]:(u=!1,r[h]&&r[h](),Y(x=>{r[h]=x,b[h]=st(t.routerState,b[h-1]||t.routerState.base,M(()=>n()[h+1]),()=>t.routerState.matches()[h])}))}return r.splice(e.length).forEach(h=>h()),i&&u?i:(a=b[0],b)}));return M(()=>n()&&a)()}const M=t=>()=>l(P,{get when(){return t()},keyed:!0,children:r=>l(ct.Provider,{value:r,get children(){return r.outlet()}})});function At(t,r,a){const n=new URL(t.request.url),e=U(a,new URL(t.router.previousUrl||t.request.url).pathname),o=U(a,n.pathname);for(let i=0;i<o.length;i++){(!e[i]||o[i].route!==e[i].route)&&(t.router.dataOnly=!0);const{route:u,params:b}=o[i];u.preload&&u.preload({params:b,location:r.location,intent:"preload"})}}function xt([t,r],a,n){return[t,n?e=>r(n(e)):r]}function Ct(t){if(t==="#")return null;try{return document.querySelector(t)}catch{return null}}function Et(t){let r=!1;const a=e=>typeof e=="string"?{value:e}:e,n=xt(Z(a(t.get()),{equals:(e,o)=>e.value===o.value&&e.state===o.state}),void 0,e=>(!r&&t.set(e),$.registry&&!$.done&&($.done=!0),e));return t.init&&B(t.init((e=t.get())=>{r=!0,n[1](a(e)),r=!1})),V({signal:n,create:t.create,utils:t.utils})}function $t(t,r,a){return t.addEventListener(r,a),()=>t.removeEventListener(r,a)}function Pt(t,r){const a=Ct(`#${t}`);a?a.scrollIntoView():r&&window.scrollTo(0,0)}function _t(t){const r=new URL(t);return r.pathname+r.search}function Ot(t){let r;const a={value:t.url||(r=q())&&_t(r.request.url)||""};return V({signal:[()=>a,n=>Object.assign(a,n)]})(t)}function Tt(t=!0,r=!1,a="/_server",n){return e=>{const o=e.base.path(),i=e.navigatorFactory(e.base);let u={};function b(s){return s.namespaceURI==="http://www.w3.org/2000/svg"}function h(s){if(s.defaultPrevented||s.button!==0||s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)return;const c=s.composedPath().find(j=>j instanceof Node&&j.nodeName.toUpperCase()==="A");if(!c||r&&!c.hasAttribute("link"))return;const m=b(c),d=m?c.href.baseVal:c.href;if((m?c.target.baseVal:c.target)||!d&&!c.hasAttribute("state"))return;const L=(c.getAttribute("rel")||"").split(/\s+/);if(c.hasAttribute("download")||L&&L.includes("external"))return;const C=m?new URL(d,document.baseURI):new URL(d);if(!(C.origin!==window.location.origin||o&&C.pathname&&!C.pathname.toLowerCase().startsWith(o.toLowerCase())))return[c,C]}function R(s){const c=h(s);if(!c)return;const[m,d]=c,T=e.parsePath(d.pathname+d.search+d.hash),L=m.getAttribute("state");s.preventDefault(),i(T,{resolve:!1,replace:m.hasAttribute("replace"),scroll:!m.hasAttribute("noscroll"),state:L&&JSON.parse(L)})}function v(s){const c=h(s);if(!c)return;const[m,d]=c;typeof n=="function"&&(d.pathname=n(d.pathname)),u[d.pathname]||e.preloadRoute(d,{preloadData:m.getAttribute("preload")!=="false"})}function A(s){const c=h(s);if(!c)return;const[m,d]=c;typeof n=="function"&&(d.pathname=n(d.pathname)),!u[d.pathname]&&(u[d.pathname]=setTimeout(()=>{e.preloadRoute(d,{preloadData:m.getAttribute("preload")!=="false"}),delete u[d.pathname]},200))}function x(s){const c=h(s);if(!c)return;const[,m]=c;typeof n=="function"&&(m.pathname=n(m.pathname)),u[m.pathname]&&(clearTimeout(u[m.pathname]),delete u[m.pathname])}function O(s){if(s.defaultPrevented)return;let c=s.submitter&&s.submitter.hasAttribute("formaction")?s.submitter.getAttribute("formaction"):s.target.getAttribute("action");if(!c)return;if(!c.startsWith("https://action/")){const d=new URL(c,ut);if(c=e.parsePath(d.pathname+d.search),!c.startsWith(a))return}if(s.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const m=kt.get(c);if(m){s.preventDefault();const d=new FormData(s.target,s.submitter);m.call({r:e,f:s.target},s.target.enctype==="multipart/form-data"?d:new URLSearchParams(d))}}z(["click","submit"]),document.addEventListener("click",R),t&&(document.addEventListener("mouseover",A),document.addEventListener("mouseout",x),document.addEventListener("focusin",v),document.addEventListener("touchstart",v)),document.addEventListener("submit",O),B(()=>{document.removeEventListener("click",R),t&&(document.removeEventListener("mouseover",A),document.removeEventListener("mouseout",x),document.removeEventListener("focusin",v),document.removeEventListener("touchstart",v)),document.removeEventListener("submit",O)})}}function jt(t){if(N)return Ot(t);const r=()=>({value:window.location.pathname.replace(/^\/+/,"/")+window.location.search+window.location.hash,state:window.history.state}),a=mt();return Et({get:r,set({value:n,replace:e,scroll:o,state:i}){e?window.history.replaceState(dt(i),"",n):window.history.pushState(i,"",n),Pt(decodeURIComponent(window.location.hash.slice(1)),o),ht()},init:n=>$t(window,"popstate",ft(n,e=>{if(e&&e<0)return!a.confirm(e);{const o=r();return!a.confirm(o.value,{state:o.state})}})),create:Tt(t.preload,t.explicitLinks,t.actionBase,t.transformUrl),utils:{go:n=>window.history.go(n),beforeLeave:a}})(t)}const Dt=["/","/contactos","/404"],W=[{key:"home",label:"Página Inicial",href:"/"},{key:"about-us",label:"Sobre nós",href:"/sobre-nos"},{key:"projects",label:"Projetos",href:"/projetos"},{key:"contacts",label:"Contactos",href:"/contactos"}],Ut=["/projetos/:slug","/projetos"];var Ft=["<i",' class="ph ph-arrow-right leading-none"></i>'],It=["<section",' class="flex flex-col items-center justify-center overflow-hidden py-20"><div class="container relative isolate text-center"><h2>','</h2><p class="mt-2 text-lg leading-8">','</p><ul class="mt-6 flex flex-wrap items-center justify-center gap-8">',"</ul><!--$-->","<!--/--></div></section>"],Mt=["<li",' class="flex items-center gap-2 font-medium"><i class="ph ph-check text-lg"></i><!--$-->',"<!--/--></li>"];function Nt(){const t=E(),r=y(()=>t.pathname),a=y(()=>!Dt.includes(r())),n=rt(()=>et(a()));return l(H,{get children(){return l(P,{get when(){return a()&&!!n()},get children(){return g(It,p(),f(n()?.title),f(n()?.description),f(l(_,{get each(){return n()?.points},children:e=>g(Mt,p(),f(e))})),f(l(nt,{variant:"ghost",class:"mt-10 inline-flex items-center gap-2 font-semibold",as:"a",href:"/contactos",get children(){return[n()?.button,g(Ft,p())]}})))}})}})}function qt(){const t=St();return y(()=>t.width>480&&t.width<1024?"tablet":t.width<=480?"mobile":"desktop")}var Bt=["<i",' class="ph ph-list text-2xl"></i>'],Ht=["<i",' class="ph ph-x text-lg"></i>'],Vt=["<header",' class="flex items-center justify-between gap-4 p-4"><p>MC Ocidente charmoso</p><!--$-->',"<!--/--></header>"],Wt=["<nav",' class="flex-1 py-4"><ul class="flex flex-col">',"</ul></nav>"],zt=["<li","><a",">","</a></li>"];function Kt(t){const r=E();function a(n){return n===r.pathname}return l(S,{side:"right",children:n=>[l(S.Trigger,{get class(){return I(["size-8 rounded bg-transparent transition-colors duration-300 ease-in-out enabled:cursor-pointer enabled:hover:bg-gray-100/50 disabled:cursor-not-allowed disabled:opacity-70",{"text-gray-50 hover:text-white":t.mode==="transparent"},{"text-gray-800":t.isSticky}])},get children(){return g(Bt,p())}}),l(S.Portal,{get children(){return[l(S.Overlay,{get class(){return I(["fixed inset-0","z-50","data-[transitioning]:transition-colors data-[transitioning]:duration-300"])},get style(){return{"background-color":`rgb(0 0 0 / ${.5*n.openPercentage})`}}}),l(S.Content,{get class(){return k(pt({side:"right"}))},get children(){return[g(Vt,p(),f(l(S.Close,{class:"size-7 rounded bg-transparent transition-colors duration-300 ease-in-out enabled:cursor-pointer enabled:hover:bg-gray-100/50 disabled:cursor-not-allowed disabled:opacity-70",get children(){return g(Ht,p())}}))),g(Wt,p(),f(l(_,{each:W,children:e=>g(zt,p(),w("class",f(k(bt({isActive:a(e.href)})),!0),!1)+w("href",f(e.href,!0),!1),f(e.label))})))]}})]}})]})}var Jt=["<nav","><ul",">","</ul></nav>"],Xt=["<li","><a",">","</a></li>"];function Gt(t){const{nav:r="",item:a="",ul:n="",li:e=""}=t.classNames??{},o=E();function i(u){return u===o.pathname}return g(Jt,p()+w("class",f(r,!0),!1),w("class",f(k("flex items-center justify-end",n),!0),!1),f(l(_,{each:W,children:u=>g(Xt,p()+w("class",f(e,!0),!1),w("class",f(k(wt({mode:t.mode,isSticky:t.isSticky,isActive:i(u.href),class:a})),!0),!1)+w("href",f(u.href,!0),!1),f(u.label))})))}var Qt=["<header","><div",'><a href="/"><img class="h-auto max-w-20" fetchpriority="high" src="/logo.jpeg" alt="MC Ocidente Charmoso"></a><!--$-->',"<!--/--></div></header>"];function Yt({mode:t="transparent",className:r=""}){const a=gt(),n=qt(),e=E(),o=y(()=>e.pathname),i=y(()=>Ut.includes(o())?"solid":t??"transparent"),u=y(()=>a.y>50);return g(Qt,p()+w("class",f(k(yt({mode:i(),isSticky:u(),class:r})),!0),!1),w("class",f(k(vt({mode:i(),isSticky:u()})),!0),!1),f(l(tt,{get children(){return[l(D,{get when(){return n()==="desktop"},get children(){return l(Gt,{get mode(){return i()},get isSticky(){return u()}})}}),l(D,{get when(){return["mobile","tablet"].includes(n())},get children(){return l(Kt,{get mode(){return i()},get isSticky(){return u()}})}})]}})))}function Ee(){return l(jt,{preload:!0,root:t=>l(H,{fallback:"Loading...",get children(){return[l(Yt,{mode:"solid"}),t.children,l(Nt,{})]}}),get children(){return l(K,{})}})}export{Ee as default};
