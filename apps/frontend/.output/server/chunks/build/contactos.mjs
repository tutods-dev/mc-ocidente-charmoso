import { ssr, ssrHydrationKey, escape, createComponent, ssrAttribute, mergeProps } from 'solid-js/web';
import { Show, createSignal, onMount, createComputed, mergeProps as mergeProps$1, splitProps, Switch, Match, For, onCleanup, createComponent as createComponent$1, createMemo } from 'solid-js';
import { x, g, a as g$1, A } from '../runtime.mjs';
import { zodValidator } from '@tanstack/zod-form-adapter';
import { z as z$1 } from 'zod';
import { I as Ia, _ as _e$1, k as ka, V as Va, j as ja, H as Ha, U as Ua, K as Ka, W as Wa } from './styles.mjs';
import { createStore, reconcile } from 'solid-js/store';
import 'node:http';
import 'node:https';
import 'node:zlib';
import 'node:stream';
import 'node:buffer';
import 'node:util';
import 'node:url';
import 'node:net';
import 'node:fs';
import 'node:path';
import 'node:async_hooks';
import 'vinxi/lib/invariant';
import 'vinxi/lib/path';
import 'solid-js/web/storage';
import '@sanity/client';
import 'nodemailer';
import 'class-variance-authority';
import 'clsx';
import 'tailwind-merge';
import '@solid-primitives/scroll';
import 'tailwind-variants';
import '@solid-primitives/resize-observer';

class oe{constructor(n,i){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=t=>{var e,r;this.listeners.add(t);const s=(r=(e=this.options)==null?void 0:e.onSubscribe)==null?void 0:r.call(e,t,this);return ()=>{this.listeners.delete(t),s?.();}},this.setState=t=>{var e,r,s;const o=this.state;this.state=(e=this.options)!=null&&e.updateFn?this.options.updateFn(o)(t):t(o),(s=(r=this.options)==null?void 0:r.onUpdate)==null||s.call(r),this._flush();},this._flush=()=>{if(this._batching)return;const t=++this._flushing;this.listeners.forEach(e=>{this._flushing===t&&e();});},this.batch=t=>{if(this._batching)return t();this._batching=!0,t(),this._batching=!1,this._flush();},this.state=n,this.options=i;}}function N(a,n){return typeof a=="function"?a(n):a}function le(a,n){return L(n).reduce((t,e)=>{if(t===null)return null;if(typeof t<"u")return t[e]},a)}function I(a,n,i){const t=L(n);function e(r){if(!t.length)return N(i,r);const s=t.shift();if(typeof s=="string")return typeof r=="object"?(r===null&&(r={}),{...r,[s]:e(r[s])}):{[s]:e()};if(Array.isArray(r)&&s!==void 0){const o=r.slice(0,s);return [...o.length?o:new Array(s),e(r[s]),...r.slice(s+1)]}return [...new Array(s),e()]}return e(a)}function _e(a,n){const i=L(n);function t(e){if(!e)return;if(i.length===1){const s=i[0];if(Array.isArray(e)&&typeof s=="number")return e.filter((c,l)=>l!==s);const{[s]:o,...d}=e;return d}const r=i.shift();if(typeof r=="string"&&typeof e=="object")return {...e,[r]:t(e[r])};if(typeof r=="number"&&Array.isArray(e)){if(r>=e.length)return e;const s=e.slice(0,r);return [...s.length?s:new Array(r),t(e[r]),...e.slice(r+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return t(a)}const $e=/^(\d*)$/gm,Ee=/\.(\d*)\./gm,Pe=/^(\d*)\./gm,Ce=/\.(\d*$)/gm,Te=/\.{2,}/gm,j="__int__",T=`${j}$1`;function L(a){if(typeof a!="string")throw new Error("Path must be a string.");return a.replaceAll("[",".").replaceAll("]","").replace($e,T).replace(Ee,`.${T}.`).replace(Pe,`${T}.`).replace(Ce,`.${T}`).replace(Te,".").split(".").map(n=>n.indexOf(j)===0?parseInt(n.substring(j.length),10):n)}function Be(a){return !(Array.isArray(a)&&a.length===0)}function D(a,n){const{asyncDebounceMs:i}=n,{onChangeAsync:t,onBlurAsync:e,onSubmitAsync:r,onBlurAsyncDebounceMs:s,onChangeAsyncDebounceMs:o}=n.validators||{},d=i??0,c={cause:"change",validate:t,debounceMs:o??d},l={cause:"blur",validate:e,debounceMs:s??d},g={cause:"submit",validate:r,debounceMs:0},u=m=>({...m,debounceMs:0});switch(a){case"submit":return [u(c),u(l),g];case"blur":return [l];case"change":return [c];case"server":default:return []}}function z(a,n){const{onChange:i,onBlur:t,onSubmit:e}=n.validators||{},r={cause:"change",validate:i},s={cause:"blur",validate:t},o={cause:"submit",validate:e},d={cause:"server",validate:()=>{}};switch(a){case"submit":return [r,s,o,d];case"server":return [d];case"blur":return [s,d];case"change":default:return [r,d]}}function k(a){return {values:a.values??{},errors:a.errors??[],errorMap:a.errorMap??{},fieldMeta:a.fieldMeta??{},canSubmit:a.canSubmit??!0,isFieldsValid:a.isFieldsValid??!1,isFieldsValidating:a.isFieldsValidating??!1,isFormValid:a.isFormValid??!1,isFormValidating:a.isFormValidating??!1,isSubmitted:a.isSubmitted??!1,isSubmitting:a.isSubmitting??!1,isTouched:a.isTouched??!1,isBlurred:a.isBlurred??!1,isPristine:a.isPristine??!0,isDirty:a.isDirty??!1,isValid:a.isValid??!1,isValidating:a.isValidating??!1,submissionAttempts:a.submissionAttempts??0,validationMetaMap:a.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}}}class xe{constructor(n){var i;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{const{onMount:t}=this.options.validators||{};if(!t)return;const e=this.runValidator({validate:t,value:{value:this.state.values,formApi:this},type:"validate"});e&&this.store.setState(r=>({...r,errorMap:{...r.errorMap,onMount:e}}));},this.update=t=>{if(!t)return;const e=this.options;this.options=t,this.store.batch(()=>{const r=t.defaultValues&&t.defaultValues!==e.defaultValues&&!this.state.isTouched,s=t.defaultState!==e.defaultState&&!this.state.isTouched;this.store.setState(()=>k(Object.assign({},this.state,s?t.defaultState:{},r?{values:t.defaultValues}:{})));});},this.reset=()=>{const{fieldMeta:t}=this.state,e=this.resetFieldMeta(t);this.store.setState(()=>{var r;return k({...this.options.defaultState,values:this.options.defaultValues??((r=this.options.defaultState)==null?void 0:r.values),fieldMeta:e})});},this.validateAllFields=async t=>{const e=[];return this.store.batch(()=>{Object.values(this.fieldInfo).forEach(s=>{if(!s.instance)return;const o=s.instance;e.push(Promise.resolve().then(()=>o.validate(t))),s.instance.state.meta.isTouched||s.instance.setMeta(d=>({...d,isTouched:!0})),s.instance.state.meta.isBlurred||s.instance.setMeta(d=>({...d,isBlurred:!0}));});}),(await Promise.all(e)).flat()},this.validateArrayFieldsStartingFrom=async(t,e,r)=>{const s=this.getFieldValue(t),o=Array.isArray(s)?Math.max(s.length-1,0):null,d=[`${t}[${e}]`];for(let u=e+1;u<=(o??0);u++)d.push(`${t}[${u}]`);const c=Object.keys(this.fieldInfo).filter(u=>d.some(m=>u.startsWith(m))),l=[];return this.store.batch(()=>{c.forEach(u=>{l.push(Promise.resolve().then(()=>this.validateField(u,r)));});}),(await Promise.all(l)).flat()},this.validateField=(t,e)=>{var r;const s=(r=this.fieldInfo[t])==null?void 0:r.instance;return s?(s.state.meta.isTouched||s.setMeta(o=>({...o,isTouched:!0})),s.state.meta.isBlurred||s.setMeta(o=>({...o,isBlurred:!0})),s.validate(e)):[]},this.validateSync=t=>{const e=z(t,this.options);let r=!1;const s={};this.store.batch(()=>{for(const d of e){if(!d.validate)continue;const c=this.runValidator({validate:d.validate,value:{value:this.state.values,formApi:this},type:"validate"}),{formError:l,fieldErrors:g}=K(c),u=B(d.cause);if(g)for(const[m,p]of Object.entries(g)){const A={...s[m]||{},[u]:p};s[m]=A;const M=this.getFieldMeta(m);M&&M.errorMap[u]!==p&&this.setFieldMeta(m,b=>({...b,errorMap:{...b.errorMap,[u]:p}}));}this.state.errorMap[u]!==l&&this.store.setState(m=>({...m,errorMap:{...m.errorMap,[u]:l}})),(l||g)&&(r=!0);}});const o=B("submit");return this.state.errorMap[o]&&t!=="submit"&&!r&&this.store.setState(d=>({...d,errorMap:{...d.errorMap,[o]:void 0}})),{hasErrored:r,fieldsErrorMap:s}},this.validateAsync=async t=>{const e=D(t,this.options);this.state.isFormValidating||this.store.setState(c=>({...c,isFormValidating:!0}));const r=[];let s;for(const c of e){if(!c.validate)continue;const l=B(c.cause),g=this.state.validationMetaMap[l];g?.lastAbortController.abort();const u=new AbortController;this.state.validationMetaMap[l]={lastAbortController:u},r.push(new Promise(async m=>{let p;try{p=await new Promise((b,f)=>{setTimeout(async()=>{if(u.signal.aborted)return b(void 0);try{b(await this.runValidator({validate:c.validate,value:{value:this.state.values,formApi:this,signal:u.signal},type:"validateAsync"}));}catch(S){f(S);}},c.debounceMs);});}catch(b){p=b;}const{formError:y,fieldErrors:A}=K(p);A&&(s=s?{...s,...A}:A);const M=B(c.cause);if(s)for(const[b,f]of Object.entries(s)){const S=this.getFieldMeta(b);S&&S.errorMap[M]!==f&&this.setFieldMeta(b,C=>({...C,errorMap:{...C.errorMap,[M]:f}}));}this.store.setState(b=>({...b,errorMap:{...b.errorMap,[M]:y}})),m(s?{fieldErrors:s,errorMapKey:M}:void 0);}));}let o=[];const d={};if(r.length){o=await Promise.all(r);for(const c of o)if(c?.fieldErrors){const{errorMapKey:l}=c;for(const[g,u]of Object.entries(c.fieldErrors)){const p={...d[g]||{},[l]:u};d[g]=p;}}}return this.store.setState(c=>({...c,isFormValidating:!1})),d},this.validate=t=>{const{hasErrored:e,fieldsErrorMap:r}=this.validateSync(t);return e&&!this.options.asyncAlways?r:this.validateAsync(t)},this.handleSubmit=async()=>{var t,e,r,s,o,d;if(this.store.setState(l=>({...l,isSubmitted:!1,submissionAttempts:l.submissionAttempts+1})),!this.state.canSubmit)return;this.store.setState(l=>({...l,isSubmitting:!0}));const c=()=>{this.store.setState(l=>({...l,isSubmitting:!1}));};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){c(),(e=(t=this.options).onSubmitInvalid)==null||e.call(t,{value:this.state.values,formApi:this});return}if(await this.validate("submit"),!this.state.isValid){c(),(s=(r=this.options).onSubmitInvalid)==null||s.call(r,{value:this.state.values,formApi:this});return}try{await((d=(o=this.options).onSubmit)==null?void 0:d.call(o,{value:this.state.values,formApi:this})),this.store.batch(()=>{this.store.setState(l=>({...l,isSubmitted:!0})),c();});}catch(l){throw c(),l}},this.getFieldValue=t=>le(this.state.values,t),this.getFieldMeta=t=>this.state.fieldMeta[t],this.getFieldInfo=t=>{var e;return (e=this.fieldInfo)[t]||(e[t]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}})},this.setFieldMeta=(t,e)=>{this.store.setState(r=>({...r,fieldMeta:{...r.fieldMeta,[t]:N(e,r.fieldMeta[t])}}));},this.resetFieldMeta=t=>Object.keys(t).reduce((e,r)=>{const s=r;return e[s]={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{}},e},{}),this.setFieldValue=(t,e,r)=>{const s=r?.dontUpdateMeta??!1;this.store.batch(()=>{s||this.setFieldMeta(t,o=>({...o,isTouched:!0,isBlurred:!0,isDirty:!0})),this.store.setState(o=>({...o,values:I(o.values,t,e)}));});},this.deleteField=t=>{this.store.setState(e=>{const r={...e};return r.values=_e(r.values,t),delete r.fieldMeta[t],r}),delete this.fieldInfo[t];},this.pushFieldValue=(t,e,r)=>{this.setFieldValue(t,s=>[...Array.isArray(s)?s:[],e],r),this.validateField(t,"change");},this.insertFieldValue=async(t,e,r,s)=>{this.setFieldValue(t,o=>[...o.slice(0,e),r,...o.slice(e)],s),await this.validateField(t,"change");},this.replaceFieldValue=async(t,e,r,s)=>{this.setFieldValue(t,o=>o.map((d,c)=>c===e?r:d),s),await this.validateField(t,"change"),await this.validateArrayFieldsStartingFrom(t,e,"change");},this.removeFieldValue=async(t,e,r)=>{const s=this.getFieldValue(t),o=Array.isArray(s)?Math.max(s.length-1,0):null;if(this.setFieldValue(t,d=>d.filter((c,l)=>l!==e),r),o!==null){const d=`${t}[${o}]`;Object.keys(this.fieldInfo).filter(l=>l.startsWith(d)).forEach(l=>this.deleteField(l));}await this.validateField(t,"change"),await this.validateArrayFieldsStartingFrom(t,e,"change");},this.swapFieldValues=(t,e,r,s)=>{this.setFieldValue(t,o=>{const d=o[e],c=o[r];return I(I(o,`${e}`,c),`${r}`,d)},s),this.validateField(t,"change"),this.validateField(`${t}[${e}]`,"change"),this.validateField(`${t}[${r}]`,"change");},this.moveFieldValues=(t,e,r,s)=>{this.setFieldValue(t,o=>(o.splice(r,0,o.splice(e,1)[0]),o),s),this.validateField(t,"change"),this.validateField(`${t}[${e}]`,"change"),this.validateField(`${t}[${r}]`,"change");},this.store=new oe(k({...n?.defaultState,values:n?.defaultValues??((i=n?.defaultState)==null?void 0:i.values),isFormValid:!0}),{onUpdate:()=>{var t,e;let{state:r}=this.store;const s=Object.values(r.fieldMeta),o=s.some(f=>f?.isValidating),d=!s.some(f=>f?.errorMap&&Be(Object.values(f.errorMap).filter(Boolean))),c=s.some(f=>f?.isTouched),l=s.some(f=>f?.isBlurred),g=s.some(f=>f?.isDirty),u=!g,m=o||r.isFormValidating;r.errors=Object.values(r.errorMap).filter(f=>f!==void 0);const p=r.errors.length===0,y=d&&p,A=r.submissionAttempts===0&&!c||!m&&!r.isSubmitting&&y;r={...r,isFieldsValidating:o,isFieldsValid:d,isFormValid:p,isValid:y,canSubmit:A,isTouched:c,isBlurred:l,isPristine:u,isDirty:g},this.state=r,this.store.state=this.state;const M=((t=this.options.transform)==null?void 0:t.deps)??[];(M.length!==this.prevTransformArray.length||M.some((f,S)=>f!==this.prevTransformArray[S]))&&((e=this.options.transform)==null||e.fn(this),this.store.state=this.state,this.prevTransformArray=M);}}),this.state=this.store.state,this.update(n||{});}runValidator(n){const i=this.options.validatorAdapter;return i&&typeof n.validate!="function"?i()[n.type](n.value,n.validate):n.validate(n.value)}setErrorMap(n){this.store.setState(i=>({...i,errorMap:{...i.errorMap,...n}}));}}function K(a){if(a){if(typeof a=="object"){const n=K(a.form).formError,i=a.fields;return {formError:n,fieldErrors:i}}return typeof a!="string"?{formError:"Invalid Form Values"}:{formError:a}}return {formError:void 0}}function B(a){switch(a){case"submit":return "onSubmit";case"blur":return "onBlur";case"mount":return "onMount";case"server":return "onServer";case"change":default:return "onChange"}}class Ie{constructor(n){this.options={},this.mount=()=>{const i=this.getInfo();i.instance=this;const t=this.form.store.subscribe(()=>{this.store.batch(()=>{const r=this.getValue(),s=this.getMeta();r!==this.state.value&&this.store.setState(o=>({...o,value:r})),s!==this.state.meta&&this.store.setState(o=>({...o,meta:s}));});});this.update(this.options);const{onMount:e}=this.options.validators||{};if(e){const r=this.runValidator({validate:e,value:{value:this.state.value,fieldApi:this},type:"validate"});r&&this.setMeta(s=>({...s,errorMap:{...s?.errorMap,onMount:r}}));}return ()=>{t();}},this.update=i=>{if(this.state.value===void 0){const t=le(i.form.options.defaultValues,i.name);i.defaultValue!==void 0?this.setValue(i.defaultValue,{dontUpdateMeta:!0}):t!==void 0&&this.setValue(t,{dontUpdateMeta:!0});}this._getMeta()===void 0&&this.setMeta(this.state.meta),this.options=i;},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(i,t)=>{this.form.setFieldValue(this.name,i,t),this.validate("change");},this._getMeta=()=>this.form.getFieldMeta(this.name),this.getMeta=()=>this._getMeta()??{isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{},...this.options.defaultMeta},this.setMeta=i=>this.form.setFieldMeta(this.name,i),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(i,t)=>this.form.pushFieldValue(this.name,i,t),this.insertValue=(i,t,e)=>this.form.insertFieldValue(this.name,i,t,e),this.replaceValue=(i,t,e)=>this.form.replaceFieldValue(this.name,i,t,e),this.removeValue=(i,t)=>this.form.removeFieldValue(this.name,i,t),this.swapValues=(i,t,e)=>this.form.swapFieldValues(this.name,i,t,e),this.moveValue=(i,t,e)=>this.form.moveFieldValues(this.name,i,t,e),this.getLinkedFields=i=>{const t=Object.values(this.form.fieldInfo),e=[];for(const r of t){if(!r.instance)continue;const{onChangeListenTo:s,onBlurListenTo:o}=r.instance.options.validators||{};i==="change"&&s?.includes(this.name)&&e.push(r.instance),i==="blur"&&o?.includes(this.name)&&e.push(r.instance);}return e},this.validateSync=(i,t)=>{const e=z(i,this.options),s=this.getLinkedFields(i).reduce((c,l)=>{const g=z(i,l.options);return g.forEach(u=>{u.field=l;}),c.concat(g)},[]);let o=!1;this.form.store.batch(()=>{const c=(l,g)=>{const u=E(g.cause),m=g.validate?H(l.runValidator({validate:g.validate,value:{value:l.getValue(),fieldApi:l},type:"validate"})):t[u];l.state.meta.errorMap[u]!==m&&l.setMeta(p=>({...p,errorMap:{...p.errorMap,[E(g.cause)]:m||t[u]}})),(m||t[u])&&(o=!0);};for(const l of e)c(this,l);for(const l of s)l.validate&&c(l.field,l);});const d=E("submit");return this.state.meta.errorMap[d]&&i!=="submit"&&!o&&this.setMeta(c=>({...c,errorMap:{...c.errorMap,[d]:void 0}})),{hasErrored:o}},this.validateAsync=async(i,t)=>{const e=D(i,this.options),r=await t,s=this.getLinkedFields(i),o=s.reduce((u,m)=>{const p=D(i,m.options);return p.forEach(y=>{y.field=m;}),u.concat(p)},[]);this.state.meta.isValidating||this.setMeta(u=>({...u,isValidating:!0}));for(const u of s)u.setMeta(m=>({...m,isValidating:!0}));const d=[],c=[],l=(u,m,p)=>{const y=E(m.cause),A=u.getInfo().validationMetaMap[y];A?.lastAbortController.abort();const M=new AbortController;this.getInfo().validationMetaMap[y]={lastAbortController:M},p.push(new Promise(async b=>{var f;let S;try{S=await new Promise((_,he)=>{setTimeout(async()=>{if(M.signal.aborted)return _(void 0);try{_(await this.runValidator({validate:m.validate,value:{value:u.getValue(),fieldApi:u,signal:M.signal},type:"validateAsync"}));}catch(me){he(me);}},m.debounceMs);});}catch(_){S=_;}if(M.signal.aborted)return b(void 0);const C=H(S),ce=(f=r[this.name])==null?void 0:f[y],R=C||ce;u.setMeta(_=>({..._,errorMap:{..._?.errorMap,[y]:R}})),b(R);}));};for(const u of e)u.validate&&l(this,u,d);for(const u of o)u.validate&&l(u.field,u,c);let g=[];(d.length||c.length)&&(g=await Promise.all(d),await Promise.all(c)),this.setMeta(u=>({...u,isValidating:!1}));for(const u of s)u.setMeta(m=>({...m,isValidating:!1}));return g.filter(Boolean)},this.validate=i=>{var t;if(!this.state.meta.isTouched)return [];let e={},r=Promise.resolve({});try{const o=this.form.validate(i);if(o instanceof Promise)r=o;else {const d=o[this.name];d&&(e=d);}}catch{}const{hasErrored:s}=this.validateSync(i,e);return s&&!this.options.asyncAlways?((t=this.getInfo().validationMetaMap[E(i)])==null||t.lastAbortController.abort(),this.state.meta.errors):this.validateAsync(i,r)},this.handleChange=i=>{this.setValue(i);},this.handleBlur=()=>{this.state.meta.isTouched||(this.setMeta(t=>({...t,isTouched:!0})),this.validate("change")),this.state.meta.isBlurred||this.setMeta(t=>({...t,isBlurred:!0})),this.validate("blur");},this.form=n.form,this.name=n.name,n.defaultValue!==void 0&&this.form.setFieldValue(this.name,n.defaultValue,{dontUpdateMeta:!0}),this.store=new oe({value:this.getValue(),meta:this._getMeta()??{isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{},...n.defaultMeta}},{onUpdate:()=>{const i=this.store.state;i.meta.errors=Object.values(i.meta.errorMap).filter(t=>t!==void 0),i.meta.isPristine=!i.meta.isDirty,this.prevState=i,this.state=i;}}),this.state=this.store.state,this.prevState=this.state,this.options=n;}runValidator(n){const i=[this.form.options.validatorAdapter,this.options.validatorAdapter];for(const t of i)if(t&&typeof n.validate!="function")return t()[n.type](n.value,n.validate);return n.validate(n.value)}setErrorMap(n){this.setMeta(i=>({...i,errorMap:{...i.errorMap,...n}}));}}function H(a){if(a)return typeof a!="string"?"Invalid Form Values":a}function E(a){switch(a){case"submit":return "onSubmit";case"blur":return "onBlur";case"mount":return "onMount";case"server":return "onServer";case"change":default:return "onChange"}}function G(a,n=i=>i){const[i,t]=createStore({value:n(a.state)}),e=a.subscribe(()=>{const r=n(a.state);t("value",reconcile(r));});return onCleanup(()=>{e();}),()=>i.value}function ke(a){const[n,i]=createSignal(!1),t=createMemo(()=>[n(),a]),e=a.store.subscribe(()=>i(r=>!r));return onCleanup(e),()=>t()[1]}function ue(a){const n=a(),i=new Ie(n),t=i;return t.Field=de,createComputed(()=>i.update(a())),onMount(()=>onCleanup(i.mount())),ke(t)}function de(a){const n=ue(()=>{const{children:i,...t}=a;return t});return createComponent$1(()=>a.children(n),{})}function Oe(a){const n=a?.(),i=new xe(n),t=i;return t.Field=e=>createComponent(de,mergeProps(e,{form:i})),t.createField=e=>ue(()=>({...e(),form:i})),t.useStore=e=>G(i.store,e),t.Subscribe=e=>N(e.children,G(i.store,e.selector)),onMount(i.mount),createComputed(()=>i.update(a?.())),t}var je=["<span",' class="text-red-500">*</span>'];function De(a){const n=mergeProps$1({class:""},a),[i,t,e]=splitProps(n,["field","children","class","helpMessage"],["onChange"]);return createComponent(Va,{get validationState(){return i.field.state.meta.errors.length?"invalid":"valid"},get onChange(){return t.onChange},class:"flex flex-col gap-1.5",get children(){return [createComponent(ja,{get for(){return e.name??e.id},get children(){return [i.children,createComponent(Show,{get when(){return e.required},get children(){return ssr(je,ssrHydrationKey())}})]}}),createComponent(Ha,mergeProps(e,{get name(){return e.name??e.id},get class(){return _e$1([i.class,{"border-destructive text-destructive":i.field.state.meta.errors.length}])}})),createComponent(Switch,{get children(){return [createComponent(Match,{get when(){return i.field.state.meta.errors},keyed:!0,children:r=>createComponent(For,{each:r,children:s=>createComponent(Ua,{children:s})})}),createComponent(Match,{get when(){return i.helpMessage},get children(){return createComponent(Ka,{get children(){return i.helpMessage}})}})]}})]}})}var ze=["<span",' class="text-red-500">*</span>'];function O(a){const n=mergeProps$1({type:"text",class:""},a),[i,t,e]=splitProps(n,["field","children","class","helpMessage"],["onChange"]);return createComponent(Va,{get validationState(){return i.field.state.meta.errors.length?"invalid":"valid"},get onChange(){return t.onChange},class:"flex flex-col gap-1.5",get children(){return [createComponent(ja,{get for(){return e.name??e.id},get children(){return [i.children,createComponent(Show,{get when(){return e.required},get children(){return ssr(ze,ssrHydrationKey())}})]}}),createComponent(Wa,mergeProps(e,{get class(){return _e$1([i.class,{"border-destructive text-destructive":i.field.state.meta.errors.length}])},get"aria-invalid"(){return i.field.state.meta.errors.length?"true":"false"},get name(){return e.name??e.id},get type(){return e.type}})),createComponent(Switch,{get children(){return [createComponent(Match,{get when(){return !!i.field.state.meta.errors.length},get children(){return createComponent(For,{get each(){return i.field.state.meta.errors??[]},children:r=>createComponent(Ua,{children:r})})}}),createComponent(Match,{get when(){return i.helpMessage},get children(){return createComponent(Ka,{get children(){return i.helpMessage}})}})]}})]}})}var Ke=["<div",' data-aos="fade-down"','><h4 class="font-semibold text-lg">Obrigado!</h4><p>A sua mensagem foi enviada com sucesso, iremos responder o mais breve possível.</p></div>'],Ue=["<form",' class="space-y-6"><!--$-->',"<!--/--><!--$-->","<!--/--><!--$-->","<!--/--><!--$-->","<!--/--><!--$-->","<!--/--><!--$-->","<!--/--></form>"];function qe(){const[a,n]=createSignal(!1),i=x(A),t=Oe(()=>({defaultValues:{name:"",email:"",phone:0,message:"",acceptance:!1},onSubmit:async({value:e})=>{try{await i(e);}catch{throw new Error("Failed to send email")}},validatorAdapter:zodValidator()}));return ssr(Ue,ssrHydrationKey(),escape(createComponent(Show,{get when(){return a()},get children(){return ssr(Ke,ssrHydrationKey(),ssrAttribute("class",escape(_e$1(["px-2 py-3","rounded border border-green-500","bg-green-50/20","text-sm"]),!0),!1))}})),escape(createComponent(t.Field,{name:"name",get validators(){return {onSubmit:z$1.string({required_error:"Por favor, preencha o seu nome."}).min(2,"Por favor, preencha o seu nome."),onChange:z$1.string({required_error:"Por favor, preencha o seu nome."}).min(2,"Por favor, preencha o seu nome.")}},children:e=>createComponent(O,{type:"text",required:!0,get id(){return e().name},get name(){return e().name},get onBlur(){return e().handleBlur},onChange:r=>e().handleChange(r),get field(){return e()},placeholder:"Por favor introduza o seu nome.",children:"Nome"})})),escape(createComponent(t.Field,{name:"email",get validators(){return {onSubmit:z$1.string({required_error:"Por favor, preencha o seu nome."}).email("Por favor, introduza um email válido"),onChange:z$1.string({required_error:"Por favor, preencha o seu nome."}).email("Por favor, introduza um email válido")}},children:e=>createComponent(O,{required:!0,get id(){return e().name},get name(){return e().name},type:"email",get onBlur(){return e().handleBlur},onChange:r=>e().handleChange(r),get field(){return e()},placeholder:"Por favor introduza o seu email.",children:"Email"})})),escape(createComponent(t.Field,{name:"phone",get validators(){return {onChange:z$1.number({invalid_type_error:"Por favor, introduza apenas números."}).refine(e=>e?/^\d{9}$/.test(String(e)):!0,"Por favor, introduza um contacto válido.").optional(),onSubmit:z$1.number({invalid_type_error:"Por favor, introduza apenas números."}).refine(e=>e?/^\d{9}$/.test(String(e)):!0,"Por favor, introduza um contacto válido.").optional()}},children:e=>createComponent(O,{get id(){return e().name},get name(){return e().name},type:"number",get onBlur(){return e().handleBlur},onChange:r=>e().handleChange(Number(r)),get field(){return e()},pattern:"d{9}",placeholder:"Por favor introduza o seu contacto telefónico.",children:"Contacto telefónico"})})),escape(createComponent(t.Field,{name:"message",get validators(){return {onChange:z$1.string({required_error:"Por favor, preencha a mensagem."}).min(5,"A sua mensagem deve conter, pelo menos, 5 caracteres.")}},children:e=>createComponent(De,{get id(){return e().name},get name(){return e().name},get onBlur(){return e().handleBlur},required:!0,onChange:r=>e().handleChange(r),get field(){return e()},placeholder:"Por favor introduza a sua mensagem.",children:"Mensagem"})})),escape(createComponent(t.Subscribe,{selector:e=>({canSubmit:e.canSubmit,isSubmitting:e.isSubmitting}),children:e=>createComponent(ka,{get disabled(){return !e().canSubmit||e().isSubmitting},get class(){return _e$1(["w-fit",{"animate-pulse":e().isSubmitting}])},type:"submit",children:"Enviar"})})))}var Ne=["<section",' class=""><div><!--$-->',"<!--/--><!--$-->","<!--/--></div></section>"],Le=["<h2",' class="font-semibold text-lg text-zinc-50 md:text-xl">',"</h2>"],Re=["<p",' class="mt-2">',"</p>"];function We(a){return ssr(Ne,ssrHydrationKey(),escape(createComponent(Show,{get when(){return a.title},keyed:!0,children:n=>ssr(Le,ssrHydrationKey(),escape(n))})),escape(createComponent(Show,{get when(){return a.headline},keyed:!0,children:n=>ssr(Re,ssrHydrationKey(),escape(n))})))}var He=["<main",'><header class="py-16"><div class="container flex flex-col items-center justify-center gap-2 text-center"><h1 class="font-bold">',"</h1><!--$-->",'<!--/--></div></header><section class="py-8 md:py-12"><div class="container grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-[0.5fr_1fr]"><!--$-->',"<!--/--><section><!--$-->","<!--/--><!--$-->","<!--/--><!--$-->","<!--/--></section></div></section></main>"],Ge=["<p",' class="text-lg">',"</p>"],Je=["<h2",">","</h2>"],Qe=["<p",' class="mb-6">',"</p>"];function $t(){const a=Ia(()=>g()),n=Ia(()=>g$1());return ssr(He,ssrHydrationKey(),escape(a()?.title)??"Contactos",escape(createComponent(Show,{get when(){return a()?.headline},keyed:!0,children:i=>ssr(Ge,ssrHydrationKey(),escape(i))})),escape(createComponent(Show,{get when(){return !!n()?.contacts?.length||!!n()?.social?.length},get children(){return createComponent(We,{get title(){return a()?.list?.title},get headline(){return a()?.list?.headline},get contacts(){return n()?.contacts},get social(){return n()?.social}})}})),escape(createComponent(Show,{get when(){return a()?.form?.title},keyed:!0,children:i=>ssr(Je,ssrHydrationKey()+ssrAttribute("class",escape(_e$1(["mb-1 font-semibold",{"mb-6":!a()?.form?.headline}]),!0),!1),escape(i))})),escape(createComponent(Show,{get when(){return a()?.form?.headline},keyed:!0,children:i=>ssr(Qe,ssrHydrationKey(),escape(i))})),escape(createComponent(qe,{})))}

export { $t as default };
//# sourceMappingURL=contactos.mjs.map
